

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.24 MPR121-Modul &mdash; SunFounder Vincent Kit  Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
        <script src="https://ezblock.cc/readDocFile/topHead.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://ezblock.cc/readDocFile/topHead.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="2.25 Drehgebermodul" href="2.25_rotary_encoder_module.html" />
    <link rel="prev" title="2.23 Joystick-Modul" href="2.23_joystick_module.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SunFounder Vincent Kit
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="components_list.html">Liste der Komponenten</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="part_1_basic.html">Teil 1: Grundlegend</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="part_2_component.html">Teil 2: Komponente</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="2.1_acommon_component.html">2.1 Gemeinsame Komponente</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.2_led.html">2.2 LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3_rgb_led.html">2.3 RGB-LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.4_led_bar_graph.html">2.4 LED-Balkendiagramm</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.5_7-segment_display.html">2.5 7-Segment-Anzeige</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.6_74hc595.html">2.6 74HC595</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.7_4-digital_7-segment_display.html">2.7 4-digitale 7-Segment-Anzeige</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.8_led_matrix_module.html">2.8 LED-Matrixmodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.9_i2c_lcd1602_module.html">2.9 I2C LCD1602-Modul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.10_active_buzzer.html">2.10 Aktiver Summer</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.11_passive_buzzer.html">2.11 Passiver Summer</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.12_servo.html">2.12 Servo</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.13_motor.html">2.13 Motor</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.14_stepper_motor.html">2.14 Schrittmotor</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.15_button.html">2.15 Taste</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.16_slide_switch.html">2.16 Schiebeschalter</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.17_tilt_switch.html">2.17 Neigungsschalter</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.18_touch_switch_module.html">2.18 Berührungsschaltermodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.19_keypad.html">2.19 Tastatur</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.20_ir_receiver_module.html">2.20 IR-Empfängermodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.21_relay_module.html">2.21 Relaismodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.22_potentiometer.html">2.22 Potentiometer</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.23_joystick_module.html">2.23 Joystick-Modul</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.24 MPR121-Modul</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview"><strong>Überblick</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#components-required"><strong>Erforderliche Komponenten</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#electrodes"><strong>Elektroden</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fritzing-circuit"><strong>Fritzing Circuit</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#schematic-diagram"><strong>Schematische Darstellung</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#code"><strong>Code</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-analysis"><strong>Code-Analyse</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#library-functions"><strong>Bibliotheksfunktionen:</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#phenomenon-picture"><strong>Phänomen Bild</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2.25_rotary_encoder_module.html">2.25 Drehgebermodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.26_photoresistor.html">2.26 Fotowiderstand</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.27_thermistor.html">2.27 Thermistor</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.28_sound_sensor_module.html">2.28 Schallsensormodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.29_water_sensor_module.html">2.29 Wassersensormodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.30_ir_obstacle_avoidance_sensor.html">2.30 IR-Hindernisvermeidungssensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.31_pir_module.html">2.31 PIR-Modul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.32_dht11_module.html">2.32 DHT11-Modul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.33_ultrasonic_module.html">2.33 Ultraschallmodul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.34_mpu6050_module.html">2.34 MPU6050-Modul</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.35_rfid-rc522_module.html">2.35 RFID-RC522-Modul</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part_3_example.html">Part 3 Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="part_4_appendix.html">Teil 4: Anhang</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SunFounder Vincent Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="part_2_component.html">Teil 2: Komponente</a> &raquo;</li>
        
      <li>2.24 MPR121-Modul</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/2.24_mpr121_module.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="mpr121-module">
<h1>2.24 MPR121-Modul<a class="headerlink" href="#mpr121-module" title="Link zu dieser Überschrift">¶</a></h1>
<section id="overview">
<h2><strong>Überblick</strong><a class="headerlink" href="#overview" title="Link zu dieser Überschrift">¶</a></h2>
<p>In dieser Lektion lernen Sie, wie Sie MPR121 verwenden. Dies ist eine gute Option, wenn Sie Ihrem Projekt viele Touch-Schalter hinzufügen möchten. Die Elektrode von MPR121 kann mit einem Leiter verlängert werden. Wenn Sie einen Draht an eine Banane anschließen, können Sie die Banane in einen Berührungsschalter verwandeln und so Projekte wie Obstklavier realisieren.</p>
</section>
<section id="components-required">
<h2><strong>Erforderliche Komponenten</strong><a class="headerlink" href="#components-required" title="Link zu dieser Überschrift">¶</a></h2>
<img alt="_images/Part_two_24.png" src="_images/Part_two_24.png" />
<p><strong>Komponenteneinführung</strong></p>
<a class="reference internal image-reference" href="_images/image200.jpeg"><img alt="_images/image200.jpeg" class="align-center" src="_images/image200.jpeg" style="width: 300px;" /></a>
<p>Fügen Sie Ihrem nächsten Projekt viele Berührungssensoren hinzu, indem Sie dieses benutzerfreundliche kapazitive 12-Kanal-Breakout-Board für Berührungssensoren mit dem MPR121 verwenden. Dieser Chip kann bis zu 12 einzelne Touchpads verarbeiten.</p>
<p>Der MPR121 unterstützt nur I2C, das mit nahezu jedem Mikrocontroller implementiert werden kann. Mit dem ADDR-Pin können Sie eine der 4 Adressen auswählen, um insgesamt 48 kapazitive Touchpads auf einem I2C-2-Draht-Bus zu verwenden. Die Verwendung dieses Chips ist viel einfacher als die kapazitive Erfassung über einen Analogeingang: Er kann alle Filter für Sie übernehmen und für eine höhere / niedrigere Empfindlichkeit konfiguriert werden.</p>
<p>Wenn der MPR121 eine Änderung erkennt, zieht er einen Interrupt-Pin LOW. Die Steuerplatine überprüft diesen Pin, um festzustellen, ob er während der Schleife LOW ist. Dazu benötigt dieser Sensor auch Zugriff auf einen anderen digitalen Pin.</p>
</section>
<section id="electrodes">
<h2><strong>Elektroden</strong><a class="headerlink" href="#electrodes" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Elektrode ist ein Berührungssensor. Typischerweise können Elektroden nur ein Stück Metall oder ein Draht sein. Abhängig von der Länge des Drahtes oder dem Material auf der Elektrode kann es jedoch manchmal schwierig sein, den Sensor auszulösen. Aus diesem Grund können Sie mit dem MPR121 konfigurieren, was zum Auslösen und Auslösen einer Elektrode erforderlich ist.</p>
</section>
<section id="fritzing-circuit">
<h2><strong>Fritzing Circuit</strong><a class="headerlink" href="#fritzing-circuit" title="Link zu dieser Überschrift">¶</a></h2>
<p>In diesem Beispiel fügen wir MPR121 in das Steckbrett ein. Stellen Sie die GND von MPR121 an GND, 3,3 V an 3 V3, IRQ an den digitalen Pin 2, SCL an den Pin SCL (21) und SDA an den Pin SDA (20). Es gibt 12 Elektroden für die Berührungserkennung. Hinweis: Der MPR121 wird mit 3,3 V und nicht mit 5 V betrieben.</p>
<a class="reference internal image-reference" href="_images/image201.png"><img alt="_images/image201.png" class="align-center" src="_images/image201.png" style="width: 5.15208in; height: 4.63125in;" /></a>
</section>
<section id="schematic-diagram">
<h2><strong>Schematische Darstellung</strong><a class="headerlink" href="#schematic-diagram" title="Link zu dieser Überschrift">¶</a></h2>
<a class="reference internal image-reference" href="_images/image202.png"><img alt="_images/image202.png" class="align-center" src="_images/image202.png" style="width: 2.97569in; height: 2.82778in;" /></a>
</section>
<section id="code">
<h2><strong>Code</strong><a class="headerlink" href="#code" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Codes verwenden den <a class="reference external" href="https://github.com/sunfounder/sunfounder_vincent_kit_for_arduino/tree/master/library">MPR121_JM. h Bibliothek</a>. Informationen zum Importieren von Bibliotheken finden Sie in <cite>Teil 4 - 4.1 Hinzufügen von Bibliotheken</cite>.</p>
<iframe src=https://create.arduino.cc/editor/sunfounder01/92bbae94-2807-4207-b0ac-393d89189517/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe><p>Nach dem Hochladen der Codes auf die Mega2560-Karte wird der Touch-Status der Pins von MPR121 (1) und (0) angezeigt
Aufgenommen in einem booleschen 12-Bit-Array, das auf dem seriellen Monitor gedruckt wird.</p>
</section>
<section id="code-analysis">
<h2><strong>Code-Analyse</strong><a class="headerlink" href="#code-analysis" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Funktion des Moduls ist in der Bibliothek MPR121_JM.h enthalten.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;MPR121_JM.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
</section>
<section id="library-functions">
<h2><strong>Bibliotheksfunktionen:</strong><a class="headerlink" href="#library-functions" title="Link zu dieser Überschrift">¶</a></h2>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="n">MPR121</span><span class="p">(</span><span class="kr">int</span> <span class="n">irqpin</span><span class="p">,</span><span class="kr">uint8_t</span> <span class="n">touThresh</span><span class="p">,</span><span class="kr">uint8_t</span> <span class="n">relThresh</span><span class="p">)</span>
</pre></div>
</div>
<p>Erstellt eine neue Instanz des MPR121.</p>
<p>irqpin: der Interrupt-Anforderungs-Pin.</p>
<p>touThresh: : Berührungsschwelle, Die Elektrode wird als Schwelle des Zustands 「Berührung」 recognized erkannt.</p>
<p>relThresh: Freigabeschwelle, Die Elektrode wird als Schwelle des Zustands 「Freigabe」 recognized erkannt.</p>
<p>Der Bereich des Elektrodendatenwerts liegt zwischen 0 und 255. Für eine typische Berührungsanwendung kann der Schwellenwert beispielsweise im Bereich von 0x05 bis 0x30 liegen. Je kleiner der Wert, desto empfindlicher ist er. Die Einstellung des Schwellenwerts hängt von der tatsächlichen Anwendung ab. Im Allgemeinen ist die Berührungsschwelle geringfügig größer als die Freigabeschwelle für das Entprellen und die Hysterese von Berührungen.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">void</span> <span class="n">mpr121_setup</span><span class="p">()</span>
</pre></div>
</div>
<p>MPR121-Modul einrichten.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">bool</span> <span class="n">checkInterrupt</span><span class="p">()</span>
</pre></div>
</div>
<p>Wenn sich der Elektrodenzustand ändert, gibt die Funktion einen Booleschen Wert 「0」 returns zurück.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">uint16_t</span> <span class="n">readTouchInputs</span><span class="p">()</span>
</pre></div>
</div>
<p>Der Berührungszustand der Elektrode erzeugt einen Booleschen Wert. Diese Funktion akkumuliert die von allen Elektroden nacheinander erzeugten Booleschen Werte in einer 12-Bit-Binärzahl als Rückgabewert. Wenn die erste und die elfte Elektrode berührt werden, wird (100000000010) zurückgegeben.</p>
</section>
<section id="phenomenon-picture">
<h2><strong>Phänomen Bild</strong><a class="headerlink" href="#phenomenon-picture" title="Link zu dieser Überschrift">¶</a></h2>
<a class="reference internal image-reference" href="_images/image203.jpeg"><img alt="2.24" class="align-center" src="_images/image203.jpeg" style="width: 5.85903in; height: 5.45833in;" /></a>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2.25_rotary_encoder_module.html" class="btn btn-neutral float-right" title="2.25 Drehgebermodul" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2.23_joystick_module.html" class="btn btn-neutral float-left" title="2.23 Joystick-Modul" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, SunFounder

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>